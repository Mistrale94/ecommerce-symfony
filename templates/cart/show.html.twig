{% extends 'base.html.twig' %} {% block title %}Panier{% endblock %} {% block body %}
<h1>Panier</h1>

<a class="back" href="{{ path('app_product_index') }}">&lsaquo; Revenir aux produits</a>


<table class="table">
    <thead>
        <tr>
            <th>Produit</th>
            <th>Quantité</th>
            <th>Prix unitaire</th>
            <th>Montant</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody>
        {% set total = 0 %} {% for cartContent in cart %} {% set product = cartContent.product %} {% set rowTotal = cartContent.quantity * product.price %} {% set total = total + rowTotal %}
        <tr>
            <td>{{ product.name }}</td>
            <td>{{ cartContent.quantity }}</td>
            <td>{{ product.price }} €</td>
            <td>{{ rowTotal }} €</td>
            <td>
                <a href="{{ path('cart_content_remove', {'cartContentId': cartContent.id}) }}" class="btn btn-danger">Supprimer</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
    <tfoot>
        <tr>
            <th colspan="3">Total</th>
            <th>{{ total }} €</th>
            <th></th>
        </tr>
    </tfoot>
</table>

{% endblock %}